@startuml
entity "User" as user
entity "NestJS Backend" as backend
entity "LotteryTicketContract" as lottery
entity "PaymasterContract" as paymaster

user -> backend : request(ticketDetails)
backend -> paymaster : payForTransaction(operation)
paymaster -> lottery : buyTicket(operation, ticketDetails)
lottery -> user : TicketPurchased event
@enduml